<mat-card>
    <mat-toolbar>
        <span>Serviços</span>
        <span class="example-spacer"></span>
        <button
        (click)="onAdd()"
        mat-stroked-button color="primary"
        class="cadastrar-btn"
        aria-label="Example icon-button with add icon"
        > 
        Cadastrar Serviços
        <mat-icon>add</mat-icon>
    </button>
</mat-toolbar>

<div *ngIf="servicos$ | async as servico; else loading">
    <table mat-table [dataSource]="servico" class="mat-elevation-z8">
        
        <!-- Nome do serviço Column -->
        <ng-container matColumnDef="nome_do_servico">
            <th mat-header-cell *matHeaderCellDef>Nome do Serviço</th>
            <td mat-cell *matCellDef="let servico">{{ servico.nome_do_servico }}</td>
        </ng-container>
        
        <!-- Expediente Column -->
        <ng-container matColumnDef="duracao_do_atendimento">
            <th mat-header-cell *matHeaderCellDef>Duração do Atendimento</th>
            <td mat-cell *matCellDef="let servico">
                {{ servico.duracao_do_atendimento }}
            </td>
        </ng-container>
        
        <!-- Expediente Column -->
        <ng-container matColumnDef="valor_servico">
            <th mat-header-cell *matHeaderCellDef>Valor</th>
            <td mat-cell *matCellDef="let servico">
                {{ servico.valor_servico }}
            </td>
        </ng-container>
        
        <!-- Action Column -->
        <ng-container matColumnDef="acoes">
            <th mat-header-cell *matHeaderCellDef>Ações</th>
            <td mat-cell *matCellDef="let servico">
                <mat-icon
                aria-hidden="false"
                aria-label="Example home icon"
                fontIcon="loupe"
                class="action-icon"
                ></mat-icon>
                <mat-icon
                aria-hidden="false"
                aria-label="Example home icon"
                fontIcon="edit"
                class="action-icon"
                (click)="onEdit(servico)"
                ></mat-icon>
                <mat-icon
                aria-hidden="false"
                aria-label="Example home icon"
                fontIcon="delete"
                class="action-icon"
                ></mat-icon>
            </td>
        </ng-container>
        
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
</div>
<ng-template #loading>
    <div class="loading-spinner">
        <mat-spinner></mat-spinner>
    </div>
</ng-template>
</mat-card>
